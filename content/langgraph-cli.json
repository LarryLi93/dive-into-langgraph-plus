{"version":3,"kind":"Notebook","sha256":"fed2e7677cd0996c3890627d2d2ae4b252a5e70f2690d0cabbee73f9915d95af","slug":"langgraph-cli","location":"/11.langgraph_cli.ipynb","dependencies":[],"frontmatter":{"title":"调试页面","content_includes_title":false,"kernelspec":{"name":"py313","display_name":"Python (py3.13)","language":"python"},"authors":[{"nameParsed":{"literal":"Larry Li","given":"Larry","family":"Li"},"name":"Larry Li","id":"contributors-Users\\Lenovo\\Desktop\\product\\dive-into-langgraph-plus\\myst-generated-uid-0"}],"github":"https://github.com/LarryLi93/dive-into-langgraph-plus","thumbnail":"/langgraph-cli-80074561d5501a915bae34bc85f8d7c2.png","exports":[{"format":"ipynb","filename":"11.langgraph_cli.ipynb","url":"/11.langgraph_cli-54f0663c49abbaa2116328462ab47f28.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LangGraph 为大家提供了方便的调试页面，这个功能由 ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RIfxoG4QmP"},{"type":"link","url":"https://langgraph.com.cn/concepts/langgraph_cli/index.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LangGraph CLI","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QGkOvIfA76"}],"urlSource":"https://langgraph.com.cn/concepts/langgraph_cli/index.html","key":"SmcoYcqXdQ"},{"type":"text","value":" 提供。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V0vl6dkvwz"}],"key":"YF3FRMdoYR"},{"type":"blockquote","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"⚠️ 请注意，这个功能不是端侧的。也就是说，使用该功能必须联网，且你的信息会发送到 LangChain 团队的服务器。因此请不要在该页面访问敏感数据！","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AeFPkQV4zk"}],"key":"KPyLz5FMHY"}],"key":"xqjqe1pqST"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"调试页面会链接到 LangSmith 的网站，页面如下：","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"C3GcDysRFA"}],"key":"dTaxlVt97P"},{"type":"image","url":"/langgraph-cli-80074561d5501a915bae34bc85f8d7c2.png","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fxX8FltU14","urlSource":"./img/langgraph-cli.png"}],"key":"YJAASb519c"},{"type":"block","kind":"notebook-content","data":{"jp-MarkdownHeadingCollapsed":true},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"一、langsmith","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A5JffdtpyT"}],"identifier":"id-langsmith","label":"一、langsmith","html_id":"id-langsmith","implicit":true,"key":"INnHk4W0eC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://docs.langchain.com/langsmith/home#langsmith-docs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"LangSmith","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"S5idbFKglO"}],"urlSource":"https://docs.langchain.com/langsmith/home#langsmith-docs","key":"nGl3yB4gHg"},{"type":"text","value":" 是由 LangChain 团队推出的 LLM 应用的数据分析平台，它能帮助开发者可视化地管理和优化整个应用开发流程。LangSmith 是一个付费 PaaS，但提供部分免费功能。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f8LtjpeEr8"}],"key":"KCEFTY7sfr"}],"key":"zQSZrUOKlm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"二、langgraph-cli","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JzM7MnS0fG"}],"identifier":"id-langgraph-cli","label":"二、langgraph-cli","html_id":"id-langgraph-cli","implicit":true,"key":"rj7hbynUtr"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1）安装依赖","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XogQwF4z3M"}],"identifier":"id-1","label":"1）安装依赖","html_id":"id-1","implicit":true,"key":"D4009pIxJw"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"使用服务前，先安装依赖：","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UWIV5q3Bof"}],"key":"umoJTIHpRS"},{"type":"code","lang":"bash","value":"pip install \"langgraph-cli[inmem]\"","position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"key":"avy5ST6b7P"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"2）开发 Agent 后端","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"dixqNoJ9Hy"}],"identifier":"id-2-agent","label":"2）开发 Agent 后端","html_id":"id-2-agent","implicit":true,"key":"ixj19FbvJ4"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"这里，我们开发一个简单的 Agent 作为该调试页面的后端。代码如下：","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"fVAq2QSzRh"}],"key":"qBRbOnSKkn"},{"type":"code","lang":"python","value":"import os\nfrom dotenv import load_dotenv\nfrom langchain_openai import ChatOpenAI\nfrom langchain.agents import create_agent\n\n# 加载模型配置\n_ = load_dotenv()\n\n# 配置大模型服务\nllm = ChatOpenAI(\n    api_key=os.getenv(\"DASHSCOPE_API_KEY\"),\n    base_url=os.getenv(\"DASHSCOPE_BASE_URL\"),\n    model=\"qwen3-coder-plus\",\n)\n\n# 创建Agent\nagent = create_agent(model=llm)\n\n# langgraph-cli 入口函数\ndef get_app():\n    return agent\n","position":{"start":{"line":15,"column":1},"end":{"line":38,"column":1}},"key":"uVPnptJ1KT"},{"type":"blockquote","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Source: ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"ZpO1ML97LK"},{"type":"link","url":"/simple_agent-e1f5b60dc72339b979b62b835827ed4b.py","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"simple_agent.py","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"s6at5t4pqS"}],"urlSource":"./simple_agent.py","static":true,"protocol":"file","key":"MiJOjIlRMs"}],"key":"nAnnq2IQ5I"}],"key":"Sl1w9PKCST"},{"type":"heading","depth":3,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"3）编写配置文件","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"lokentqnnR"}],"identifier":"id-3","label":"3）编写配置文件","html_id":"id-3","implicit":true,"key":"Y3I86rAQ91"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"inlineCode","value":"langgraph-cli","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"vZfno36qA4"},{"type":"text","value":" 默认的配置文件叫 ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"pyKdieXSkU"},{"type":"inlineCode","value":"langgraph.json","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"p566YjrVDP"},{"type":"text","value":".","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"KbrXJ2bGB1"}],"key":"aoGo6PdMVx"},{"type":"blockquote","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"text","value":"若使用其他文件名，在启动服务时，需要使用 ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"gMQxOAIHuA"},{"type":"inlineCode","value":"--config","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"tQtWlEI93B"},{"type":"text","value":" 参数指定你的 json 文件名。","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"KI9Tqg3YlF"}],"key":"s38YdT0ZSx"}],"key":"mceyGJbqsn"},{"type":"code","lang":"json","value":"{\n    \"dependencies\": [\n        \"./\"\n    ],\n    \"graphs\": {\n        \"supervisor\": \"./simple_agent.py:get_app\"\n    },\n    \"env\": \"./.env\"\n}","position":{"start":{"line":48,"column":1},"end":{"line":58,"column":1}},"key":"SVPwwCsubl"},{"type":"heading","depth":3,"position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"4）启动 ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"IBKEmJssTx"},{"type":"inlineCode","value":"langgraph-cli","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"g2rUuCanZW"}],"identifier":"id-4-langgraph-cli","label":"4）启动 langgraph-cli","html_id":"id-4-langgraph-cli","implicit":true,"key":"K6l0ikq1km"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"在命令行启动服务：","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"L17jdKiCzz"}],"key":"wJE2kxnxTa"},{"type":"code","lang":"bash","value":"# 如果你的配置文件是默认的 langgraph.json\nlanggraph dev\n\n# 如果你的配置文件是 [your_agent].json\nlanggraph dev --config [your_agent].json","position":{"start":{"line":64,"column":1},"end":{"line":70,"column":1}},"key":"Uk0RJTzwjz"},{"type":"paragraph","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"运行后会自动跳转到浏览器的调试页面。","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"XCf0YrRT6t"}],"key":"O6USMKEt1c"},{"type":"blockquote","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"由于这个 Chat 页面不是开源的，不建议将其用于生产环境。如果你需要一个替代的开源前端 Chat 页面，可参考我的 ","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"gTEH4U961j"},{"type":"link","url":"https://github.com/luochang212/clickhouse-chatbi","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"clickhouse-chatbi","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"b0huvzdy0x"}],"urlSource":"https://github.com/luochang212/clickhouse-chatbi","error":true,"key":"zRl1LxjMa9"},{"type":"text","value":" 项目。该项目使用了 Next.js 的 ","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"hDnOkq5GyT"},{"type":"link","url":"https://vercel.com/templates/ai/nextjs-ai-chatbot","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"nextjs-ai-chatbot","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"wzKpqawPV1"}],"urlSource":"https://vercel.com/templates/ai/nextjs-ai-chatbot","key":"ErHBpO47d6"},{"type":"text","value":" 模板。该模板兼具现代的外观和易用的功能，实乃快捷开发的不二之选。","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"vtlYXX5Uf5"}],"key":"CdKwFJq6q6"}],"key":"oRhoQQZPjT"}],"key":"WnBN64ZUYO"}],"key":"k7ckrmhetH"},"references":{"cite":{"order":[],"data":{}}}}